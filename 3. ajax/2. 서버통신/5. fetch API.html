<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <pre></pre>
    <button id="btn">조회</button>

    <script>
    const fetchGet = (url) => {
      // fetch를 하면 첫번재 Promise는 전체적인 응답정보( 서버json,상태코드,에러메시지 )가 PromiseResult에 들어감
      return fetch(url).then(response => response.json()); 
    };

    const clickHandler = e =>{
      const result = fetchGet('http://localhost:5000/posts')
      .then(res => res.json())
      .then(postList => {
        console.log(postList);
        postList.forEach(post => {
          document.write(post.title + '<br>');
        });
      });
    };

      document.getElementById('btn').addEventListener('click',clickHandler);
    </script>
  </body>
</html>
